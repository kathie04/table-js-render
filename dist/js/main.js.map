{"version":3,"sources":["main.js"],"names":["document","addEventListener","datepicker","querySelectorAll","instance1","M","Datepicker","init","format","categoryList","selectAddItem","querySelector","selectEditItem","createOptionList","selectAdd","FormSelect","selectEdit","modal","getElementById","modalWindow","Modal","editModal","getInstance","radio","createRadioList","filterCategory","table","checkbox","showCompleted","checked","addForm","forms","editForm","sortNameButton","sortCategoryButton","sortDeadlineButton","sortFunctionValue","sortArrayByDeadline","taskList","getTaskList","renderTable","e","name","elements","value","deadline","category","error","preventDefault","insertAdjacentHTML","remove","newItem","Task","getNewId","push","saveTaskList","index","getAttribute","close","target","closest","id","forEach","item","i","completed","done","splice","filter","fillFields","form","editName","editDeadline","editCategory","selected","setAttribute","classList","add","contains","sortArrayByNameDown","sortArrayByName","toggle","sortArrayByCategoryDown","sortArrayByCategory","sortArrayByDeadlineDown","elem","array","sortFunction","clearElement","createTable","length","maxId","localStorage","setItem","JSON","stringify","parse","getItem","innerHTML","filterArray","filterByCategory","sort","a","b","dateA","Date","dateB","nameA","toLowerCase","nameB","filteredByCategoryArray","filteredArray","sortedArray","map","join","optionList","radioList","Element","prototype","css","node","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n\r\n    //init materialize datepicker\r\n\r\n    let datepicker = document.querySelectorAll('.datepicker');\r\n    let instance1 = M.Datepicker.init(datepicker, {\r\n        format: 'mm/dd/yyyy'\r\n    });\r\n\r\n    let categoryList = ['Work', 'Home', 'Hometask', 'Shopping'];\r\n    let selectAddItem = document.querySelector('#category');\r\n    let selectEditItem = document.querySelector('#editCategory');\r\n    createOptionList(selectAddItem, categoryList);\r\n    createOptionList(selectEditItem, categoryList)\r\n\r\n\r\n    //init materialize select\r\n    let selectAdd = M.FormSelect.init(selectAddItem);\r\n    let selectEdit = M.FormSelect.init(selectEditItem);\r\n\r\n    //init materialize modal\r\n\r\n    let modal = document.getElementById('modal');\r\n    let modalWindow = M.Modal.init(modal);\r\n    let editModal = M.Modal.getInstance(modal);\r\n\r\n    let radio = document.querySelector('.radio-field')\r\n    createRadioList(radio, categoryList);\r\n    let filterCategory = ''\r\n\r\n    let table = document.querySelector('table tbody');\r\n    let checkbox = document.querySelector('.show-completed');\r\n    let showCompleted = checkbox.checked;\r\n    let addForm = document.forms[0];\r\n    let editForm = document.forms[1];\r\n    let sortNameButton = document.querySelector('.sort-name');\r\n    let sortCategoryButton = document.querySelector('.sort-category');\r\n    let sortDeadlineButton = document.querySelector('.sort-date');\r\n    let sortFunctionValue = sortArrayByDeadline;\r\n\r\n    let taskList = (getTaskList() ? getTaskList() : []);\r\n\r\n    renderTable(table, taskList, showCompleted)\r\n\r\n    checkbox.addEventListener('change', function () {\r\n        showCompleted = checkbox.checked;\r\n        renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory)\r\n    })\r\n\r\n    addForm.addEventListener('submit', function (e) {\r\n        let name = this.elements.name.value;\r\n        let deadline = this.elements.deadline.value;\r\n        let category = this.elements.category.value;\r\n        let error = document.querySelector('form .error');\r\n        e.preventDefault();\r\n        if ((!name || !deadline || !category)) {\r\n            if (!error) {\r\n                this.insertAdjacentHTML('beforeend', '<span class=\"error red-text\">Please, fill all fields</span>');\r\n            }\r\n            return\r\n        } else {\r\n            if (error) {\r\n                error.remove();\r\n            }\r\n            let newItem = new Task(this.elements.name.value, this.elements.deadline.value, this.elements.category.value, getNewId(taskList));\r\n            taskList.push(newItem);\r\n            saveTaskList(taskList);\r\n            taskList = getTaskList();\r\n            renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory)\r\n            this.elements.name.value = '';\r\n            this.elements.deadline.value = '';\r\n            this.elements.category.value = '';\r\n            selectAdd = M.FormSelect.init(selectAddItem);\r\n        }\r\n    })\r\n\r\n\r\n    editForm.addEventListener('submit', function (e) {\r\n        let name = this.elements.name.value;\r\n        let deadline = this.elements.deadline.value;\r\n        let category = this.elements.category.value;\r\n        let index = this.getAttribute('data-index');\r\n        let error = document.querySelector('form .error');\r\n        e.preventDefault();\r\n        if ((!name || !deadline || !category)) {\r\n            if (!error) {\r\n                this.insertAdjacentHTML('beforeend', '<span class=\"error red-text\">Please, fill all fields</span>');\r\n            }\r\n            return\r\n        } else {\r\n            if (error) {\r\n                error.remove();\r\n            }\r\n            taskList[index].name = name;\r\n            taskList[index].deadline = deadline;\r\n            taskList[index].category = category\r\n            saveTaskList(taskList);\r\n            taskList = getTaskList();\r\n            renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory)\r\n            this.elements.name.value = '';\r\n            this.elements.deadline.value = '';\r\n            this.elements.category.value = '';\r\n            selectEdit = M.FormSelect.init(selectEditItem);\r\n            editModal.close();\r\n        }\r\n    })\r\n\r\n    table.addEventListener('click', function (e) {\r\n        let target = e.target;\r\n        if (target.closest('.btn-done')) {\r\n            let id = e.target.closest('tr').getAttribute('key');\r\n            let index;\r\n            taskList.forEach((item, i) => {\r\n                if (item.id == id) {\r\n                    index = i;\r\n                }\r\n            })\r\n            let completed = taskList[index].done;\r\n            taskList[index].done = !completed;\r\n            saveTaskList(taskList);\r\n            taskList = getTaskList();\r\n            renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory)\r\n        }\r\n        if (target.closest('.btn-delete')) {\r\n            let id = e.target.closest('tr').getAttribute('key');\r\n            let index\r\n            taskList.forEach((item, i) => {\r\n                if (item.id == id) {\r\n                    index = i;\r\n                }\r\n            })\r\n            taskList.splice(index, 1);\r\n            saveTaskList(taskList);\r\n            taskList = getTaskList();\r\n            renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory);\r\n        }\r\n        if (target.closest('.btn-edit')) {\r\n            let id = e.target.closest('tr').getAttribute('key');\r\n            let item = taskList.filter((item) => {\r\n                if (item.id == id) return item\r\n            })[0];\r\n            fillFields(editForm, item, id);\r\n        }\r\n    })\r\n\r\n    radio.addEventListener('change', function () {\r\n        filterCategory = this.querySelector('input:checked').value;\r\n        renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory);\r\n    })\r\n\r\n    function fillFields(form, item, index) {\r\n        form.elements.editName.value = item.name;\r\n        form.elements.editDeadline.value = item.deadline;\r\n        form.elements.editCategory.value = item.category;\r\n        selectEditItem.querySelector('option[value=\"' + item.category + '\"]').selected = true;\r\n        selectEdit = M.FormSelect.init(selectEditItem);\r\n        form.setAttribute('data-index', index)\r\n    }\r\n\r\n    sortNameButton.addEventListener('click', function () {\r\n        this.classList.add('underline');\r\n        sortCategoryButton.classList.remove('underline');\r\n        sortDeadlineButton.classList.remove('underline');\r\n        if (this.classList.contains('sort-down')) {\r\n            sortFunctionValue = sortArrayByNameDown;\r\n        } else {\r\n            sortFunctionValue = sortArrayByName;\r\n        }\r\n        renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory);\r\n        this.classList.toggle('sort-down')\r\n    });\r\n\r\n    sortCategoryButton.addEventListener('click', function () {\r\n        this.classList.add('underline');\r\n        sortNameButton.classList.remove('underline');\r\n        sortDeadlineButton.classList.remove('underline');\r\n        if (this.classList.contains('sort-down')) {\r\n            sortFunctionValue = sortArrayByCategoryDown;\r\n        } else {\r\n            sortFunctionValue = sortArrayByCategory;\r\n        }\r\n        this.classList.toggle('sort-down')\r\n        renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory);\r\n    });\r\n\r\n    sortDeadlineButton.addEventListener('click', function () {\r\n        this.classList.add('underline');\r\n        sortCategoryButton.classList.remove('underline');\r\n        sortNameButton.classList.remove('underline');\r\n        if (this.classList.contains('sort-down')) {\r\n            sortFunctionValue = sortArrayByDeadlineDown;\r\n        } else {\r\n            sortFunctionValue = sortArrayByDeadline;\r\n        }\r\n        this.classList.toggle('sort-down')\r\n        renderTable(table, taskList, showCompleted, sortFunctionValue, filterCategory);\r\n    })\r\n\r\n    function renderTable(elem, array, showCompleted, sortFunction = sortFunctionValue, filterCategory = filterCategory) {\r\n        clearElement(elem)\r\n        elem.insertAdjacentHTML('beforeend', createTable(array, showCompleted, sortFunction, filterCategory));\r\n    }\r\n\r\n});\r\n\r\nfunction getNewId(array) {\r\n    if (array.length) {\r\n        let maxId = +array[0].id;\r\n        array.forEach((item) => {\r\n            if (+item.id > maxId) {\r\n                maxId = +item.id\r\n            }\r\n        })\r\n        return (maxId + 1)\r\n    } else return 0\r\n}\r\n\r\nfunction saveTaskList(array) {\r\n    localStorage.setItem('taskList', JSON.stringify(array));\r\n}\r\n\r\nfunction getTaskList() {\r\n    return JSON.parse(localStorage.getItem('taskList'))\r\n}\r\n\r\nclass Task {\r\n    constructor(name, deadline, category, id) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.deadline = deadline;\r\n        this.category = category;\r\n        this.done = false;\r\n    }\r\n}\r\n\r\nfunction clearElement(elem) {\r\n    elem.innerHTML = '';\r\n}\r\n\r\nfunction filterArray(array, showCompleted) {\r\n    return array.filter((item) => {\r\n        if (showCompleted) {\r\n            return item\r\n        } else {\r\n            if (!item.done) {\r\n                return item\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction filterByCategory(array, value) {\r\n    return array.filter((item) => {\r\n        if (item.category == value) {\r\n            return item\r\n        }\r\n    })\r\n}\r\n\r\nfunction sortArrayByDeadline(array) {\r\n    return array.sort(function (a, b) {\r\n        let dateA = new Date(a.deadline)\r\n        let dateB = new Date(b.deadline);\r\n        return dateA - dateB;\r\n    });\r\n}\r\n\r\nfunction sortArrayByDeadlineDown(array) {\r\n    return array.sort(function (a, b) {\r\n        let dateA = new Date(a.deadline)\r\n        let dateB = new Date(b.deadline);\r\n        return dateB - dateA;\r\n    });\r\n}\r\n\r\nfunction sortArrayByName(array) {\r\n    return array.sort(function (a, b) {\r\n        let nameA = a.name.toLowerCase();\r\n        let nameB = b.name.toLowerCase();\r\n        if (nameA < nameB)\r\n            return -1\r\n        if (nameA > nameB)\r\n            return 1\r\n        return 0\r\n    });\r\n}\r\n\r\nfunction sortArrayByNameDown(array) {\r\n    return array.sort(function (a, b) {\r\n        let nameA = a.name.toLowerCase();\r\n        let nameB = b.name.toLowerCase();\r\n        if (nameA > nameB)\r\n            return -1\r\n        if (nameA < nameB)\r\n            return 1\r\n        return 0\r\n    });\r\n}\r\n\r\nfunction sortArrayByCategory(array) {\r\n    return array.sort(function (a, b) {\r\n        let nameA = a.category.toLowerCase();\r\n        let nameB = b.category.toLowerCase();\r\n        if (nameA < nameB)\r\n            return -1\r\n        if (nameA > nameB)\r\n            return 1\r\n        return 0\r\n    });\r\n}\r\n\r\nfunction sortArrayByCategoryDown(array) {\r\n    return array.sort(function (a, b) {\r\n        let nameA = a.category.toLowerCase();\r\n        let nameB = b.category.toLowerCase();\r\n        if (nameA > nameB)\r\n            return -1\r\n        if (nameA < nameB)\r\n            return 1\r\n        return 0\r\n    });\r\n}\r\n\r\nfunction createTable(array, showCompleted, sortFunction, filterCategory) {\r\n    let filteredByCategoryArray = array;\r\n    if (filterCategory) {\r\n        filteredByCategoryArray = filterByCategory(array, filterCategory)\r\n    }\r\n    let filteredArray = filterArray(filteredByCategoryArray, showCompleted);\r\n    let sortedArray = sortFunction(filteredArray);\r\n    return sortedArray.map((item, index) => {\r\n        let {id, name, deadline, category, done} = item;\r\n        return `<tr ${done ? 'class=\"completed\"' : ''} key=${id}>\r\n            <td>${index + 1}</td>\r\n            <td>${category}</td>\r\n            <td>${name}</td>\r\n            <td>${deadline}</td>\r\n            <td>      \r\n                <ul class=\"options\">\r\n                     <li><a href=\"#\" class=\"btn yellow btn-done\"><i class=\"material-icons small\">check</i></a></li>\r\n                     <li><a href=\"#\" class=\"btn green btn-edit modal-trigger\" data-target=\"modal\"><i class=\"material-icons small\">create</i></a></li>\r\n                     <li><a href=\"#\" class=\"btn red btn-delete\"><i class=\"material-icons\">clear</i></a></li>\r\n                </ul>\r\n             </td>\r\n             </tr>`\r\n    }).join('');\r\n}\r\n\r\nfunction createOptionList(elem, array) {\r\n    let optionList = array.map((item) => {\r\n        return `<option value=${item}>${item}</option>`\r\n    }).join('')\r\n    elem.insertAdjacentHTML('beforeend', optionList)\r\n}\r\n\r\nfunction createRadioList(elem, array) {\r\n    let radioList = array.map((item) => {\r\n        return `<p>\r\n                  <label>\r\n                    <input class=\"with-gap\" name=\"category-filter\" type=\"radio\" value=${item}>\r\n                    <span>${item}</span>\r\n                  </label>\r\n                </p>`\r\n    }).join('')\r\n    elem.insertAdjacentHTML('beforeend', radioList)\r\n}\r\n\r\n//IE polifill for closest\r\n\r\n(function () {\r\n    if (!Element.prototype.closest) {\r\n        Element.prototype.closest = function (css) {\r\n            var node = this;\r\n\r\n            while (node) {\r\n                if (node.matches(css)) return node;\r\n                else node = node.parentElement;\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n\r\n})();\r\n\r\n//IE polifill for matches\r\n\r\n(function () {\r\n    if (!Element.prototype.matches) {\r\n        Element.prototype.matches = Element.prototype.matchesSelector ||\r\n            Element.prototype.webkitMatchesSelector ||\r\n            Element.prototype.mozMatchesSelector ||\r\n            Element.prototype.msMatchesSelector;\r\n    }\r\n})();"],"file":"main.js"}