{"version":3,"sources":["main.js"],"names":["document","addEventListener","datepicker","querySelectorAll","instance1","M","Datepicker","init","format","select","instance2","FormSelect","table","querySelector","checkbox","showCompleted","checked","taskList","getTaskList","renderTable","forms","e","name","elements","value","deadline","category","error","preventDefault","insertAdjacentHTML","remove","newItem","Task","push","saveTaskList","target","closest","index","getAttribute","completed","done","splice","array","localStorage","setItem","JSON","stringify","parse","getItem","elem","clearElement","createTable","innerHTML","filterArray","filter","item","sortArray","sort","a","b","dateA","Date","dateB","map","join"],"mappings":"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","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n    let datepicker = document.querySelectorAll('.datepicker');\r\n    let instance1 = M.Datepicker.init(datepicker, {\r\n        format: 'mm/dd/yyyy'\r\n    });\r\n\r\n    let select = document.querySelectorAll('select');\r\n    let instance2 = M.FormSelect.init(select);\r\n\r\n    let table = document.querySelector('table tbody');\r\n    let checkbox = document.querySelector('.show-completed');\r\n    let showCompleted = checkbox.checked;\r\n    let taskList = (getTaskList() ? getTaskList() : []);\r\n    renderTable(table, taskList, showCompleted)\r\n\r\n\r\n\r\n    checkbox.addEventListener('change', function () {\r\n        showCompleted = checkbox.checked;\r\n        renderTable(table, taskList, showCompleted)\r\n    })\r\n\r\n    document.forms[0].addEventListener('submit', function (e) {\r\n        let name = this.elements.name.value;\r\n        let deadline = this.elements.deadline.value;\r\n        let category = this.elements.category.value;\r\n        let error = document.querySelector('form .error');\r\n        e.preventDefault();\r\n        if ((!name || !deadline || !category)) {\r\n            if (!error) {\r\n                this.insertAdjacentHTML('beforeend','<span class=\"error red-text\">Please, fill all fields</span>');\r\n            }\r\n            return\r\n        } else {\r\n            if (error) {\r\n                error.remove();\r\n            }\r\n            let newItem = new Task(this.elements.name.value, this.elements.deadline.value, this.elements.category.value);\r\n            taskList.push(newItem);\r\n            saveTaskList(taskList);\r\n            taskList = getTaskList();\r\n            renderTable(table, taskList, showCompleted)\r\n            this.elements.name.value = '';\r\n            this.elements.deadline.value = '';\r\n            this.elements.category.value = '';\r\n            instance2 = M.FormSelect.init(select);\r\n        }\r\n    })\r\n\r\n    table.addEventListener('click', function (e) {\r\n        let target = e.target;\r\n        if(target.closest('.btn-done')) {\r\n            let index = e.target.closest('tr').getAttribute('key');\r\n            var completed = taskList[index].done;\r\n            taskList[index].done = !completed;\r\n            saveTaskList(taskList);\r\n            taskList = getTaskList();\r\n            renderTable(table, taskList, showCompleted)\r\n        }\r\n        if (target.closest('.btn-delete')) {\r\n            let index = e.target.closest('tr').getAttribute('key');\r\n            taskList.splice(index, 1);\r\n            saveTaskList(taskList);\r\n            taskList = getTaskList();\r\n            renderTable(table, taskList, showCompleted);\r\n        }\r\n    })\r\n});\r\n\r\nfunction saveTaskList(array) {\r\n    localStorage.setItem('taskList', JSON.stringify(array));\r\n}\r\n\r\nfunction getTaskList() {\r\n    return JSON.parse(localStorage.getItem('taskList'))\r\n}\r\n\r\nclass Task {\r\n    constructor(name, deadline, category) {\r\n        this.name = name;\r\n        this.deadline = deadline;\r\n        this.category = category;\r\n        this.done = false;\r\n    }\r\n}\r\n\r\nfunction renderTable(elem, array, showCompleted) {\r\n    clearElement(elem)\r\n    elem.insertAdjacentHTML('beforeend', createTable(array, showCompleted));\r\n}\r\n\r\nfunction clearElement(elem) {\r\n    elem.innerHTML = '';\r\n}\r\n\r\nfunction createTable(array, showCompleted) {\r\n    let filterArray = array.filter((item) => {\r\n        if (showCompleted) {\r\n            return item\r\n        } else {\r\n            if (!item.done) {\r\n                return item\r\n            }\r\n        }\r\n    })\r\n    let sortArray = filterArray.sort(function (a,b) {\r\n        var dateA=new Date(a.deadline), dateB=new Date(b.deadline);\r\n        return dateA-dateB\r\n    });\r\n    return sortArray.map((item, index) => {\r\n        let {name, deadline, category,done} = item;\r\n        return `<tr ${done ? 'class=\"completed\"' : ''} key=${index}>\r\n            <td>${index+1}</td>\r\n            <td>${category}</td>\r\n            <td>${name}</td>\r\n            <td>${deadline}</td>\r\n            <td>      \r\n                <ul class=\"options\">\r\n                     <li><a href=\"#\" class=\"btn yellow btn-done\"><i class=\"material-icons small\">check</i></a></li>\r\n                     <li><a href=\"#\" class=\"btn green btn-update\"><i class=\"material-icons small\">create</i></a></li>\r\n                     <li><a href=\"#\" class=\"btn red btn-delete\"><i class=\"material-icons\">clear</i></a></li>\r\n                </ul>\r\n             </td>\r\n             </tr>`\r\n    }).join('');\r\n}"],"file":"main.js"}